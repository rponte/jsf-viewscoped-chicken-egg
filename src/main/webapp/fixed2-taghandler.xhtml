<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>::FIXED-2:: @ViewScoped Chicken/Egg Issue (Tag Handler)</title>
    </h:head>
    <h:body>
    		<h:form>
    			<h:outputLabel for="name" />
    			<h:inputText id="name" value="#{tagHandlerViewScopedBean.name}" />
    			<h:commandButton
    				value="Send" 
    				action="#{tagHandlerViewScopedBean.show}">
    				<f:ajax execute="@form" render="@form" />
    			</h:commandButton>
    			<!-- Avoiding issue with ui:fragment -->
    			<ui:fragment rendered="#{tagHandlerViewScopedBean.pageName == '/includes/result.xhtml'}">
	    			<ui:include src="/includes/result.xhtml" />
    			</ui:fragment>
    		</h:form>
    </h:body>
</html>